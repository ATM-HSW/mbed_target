
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=cp1252" />
    <title>5.1.3. Serial Read Byte</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="next" title="5.1.4. Serial Write Block" href="UART_Write_Block_en.html" />
    <link rel="prev" title="5.1.2. Serial Configuration USB" href="UART_ConfigUSB_en.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="UART_Write_Block_en.html" title="5.1.4. Serial Write Block"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="UART_ConfigUSB_en.html" title="5.1.2. Serial Configuration USB"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../Index.html">mbed_target_doc 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="_index_en.html" >5. Serial Buses</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="_UART_en.html" accesskey="U">5.1. UART</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="serial-read-byte">
<h1>5.1.3. Serial Read Byte</h1>
<div class="section" id="description">
<h2>5.1.3.1. Description</h2>
<p>Reads one byte from the serial port on the mbed board.</p>
<p>Outputs -1 if no data is available to be read.</p>
<a class="reference internal image-reference" href="../_images/block_UART_SerialReadByte.png"><img alt="../_images/block_UART_SerialReadByte.png" src="../_images/block_UART_SerialReadByte.png" style="width: 605.0px; height: 271.0px;" /></a>
</div>
<div class="section" id="data-type-support">
<h2>5.1.3.2. Data Type Support</h2>
<p>The output port writes values with <em>int32</em> data types.</p>
</div>
<div class="section" id="parameters-dialog-box">
<h2>5.1.3.3. Parameters Dialog Box</h2>
<img alt="../_images/mask_UART_SerialReadByte.png" src="../_images/mask_UART_SerialReadByte.png" />
<div class="section" id="serial-port">
<h3>Serial Port</h3>
<p>specifies an internal used serial port number. It is used to generate unique instance names when more UARTs are used in the same model and to tie config, read and write blocks together.</p>
</div>
<div class="section" id="sample-time">
<h3>Sample Time</h3>
<p>specifies the time interval between samples. To inherit the sample time, set this parameter to -1.</p>
</div>
</div>
<div class="section" id="example">
<h2>5.1.3.4. Example</h2>
<p>In the example data from UART input are written back to the output of the same UART. Because the Read Block writes in every step function call a byte to the output port, the value has to be checked. When no byte was transmitted a -1 is written. The switch block handles this, to avoid writing 0xff characters t the UART output.</p>
<a class="reference internal image-reference" href="../_images/example_UART_Serial.png"><img alt="../_images/example_UART_Serial.png" src="../_images/example_UART_Serial.png" style="width: 663.5px; height: 324.5px;" /></a>
</div>
<div class="section" id="code-generation">
<h2>5.1.3.5. Code Generation</h2>
<p>Instance names of mbed classes are created by concatenating model name (, submodelnames), block name and Serial Port number (<strong>&lt;Model Name&gt;</strong>_(<strong>&lt;Subblock Name&gt;</strong>_…)<strong>&lt;Block Name&gt;</strong><strong>&lt;Serial Port&gt;</strong>). Space and minus characters are substituted by underscore (‘_’) characters.</p>
<div class="section" id="step-function">
<h3>Step Function</h3>
<p>creates the following block in void <strong>&lt;Model Name&gt;</strong>_step(void) function</p>
<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">instance</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="n">readable</span><span class="p">())</span> <span class="p">{</span>
  <span class="n">lvalue</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">instance</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="n">getc</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="n">lvalue</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="UART_Write_Block_en.html" title="5.1.4. Serial Write Block"
             >next</a> |</li>
        <li class="right" >
          <a href="UART_ConfigUSB_en.html" title="5.1.2. Serial Configuration USB"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../Index.html">mbed_target_doc 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="_index_en.html" >5. Serial Buses</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="_UART_en.html" >5.1. UART</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015-2017, CEA/ATM RG, HS Wismar.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
  </body>
</html>